<!Doctype: HTML w/ Processing>

<html>

  <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Processing Demo</title>
      <script type="text/javascript" src="js/processing.js"></script>
  </head>
  
  <body>
    <h1>Granada High Tutorial</h1>
    <p>Processing demo</p>
    
    <script type="text/processing">
    
    ArrayList<Letter> letters;
    float angle = 0;

    float minDist = 5;
    float maxDist = 200;

    void setup() {
      size(700, 700, P3D);
      letters = new ArrayList<Letter>();
    }

    void draw() {
      background(0);
      translate(width/2, height/2);
      rotateY(angle);
      pushMatrix();
      translate(0, height/4);
      popMatrix();

      for (Letter l : letters) {
        l.update();
        l.display();
      }

      angle += 0.003;
    }

    void keyPressed() {
      letters.add(new Letter(key));
    }

    class Letter {
      PFont f;
      float x;
      float y;
      float z;
      char c;
      PVector velocity;
      PVector acceleration;
      Letter(char s) {
        c = s;
        x = random(-width/2, width/2);
        y = random(-height/2, height/2);
        z = random(-100, 100);
        f = createFont("font.ttf", 100);
        textFont(f);

        velocity = new PVector(0.001, 0.001, 0.001);
        acceleration = new PVector(0.003, 0.003, 0.003);
      }

      void update() {
        velocity.add(acceleration);
        x += velocity.x;
        y += velocity.y;
        z += velocity.z;
      }

      void display() {
        textSize(30);
        rotateY(-30);
        text(c, x, y, z);
      }
    }


    </script>
    <canvas id="sketch" style="border: 1px solid black;"></canvas>
    
  </body>
  
</html>
